var text="void((function(){function setTex(x,url){var inp=gShaderToy.mEffect.mPasses[gShaderToy.mActiveDoc].mInputs[x];var tg=inp?inp.globject:null;var wrpEnm=gShaderToy.mEffect.mRenderer.TEXWRP;var filEnm=gShaderToy.mEffect.mRenderer.FILTER;var wrpStr=(tg&&tg.mWrap==wrpEnm.CLAMP)?'clamp':'repeat';var filStr=(tg&&tg.mFilter==filEnm.LINEAR)?'linear':((tg&&tg.mFilter==filEnm.NONE)?'nearest':'mipmap');var flpStr=(tg&&!tg.mVFlip)?'false':'true';gShaderToy.SetTexture(x,{mSrc:url,mType:'texture',mID:1,mSampler:{filter:filStr,wrap:wrpStr,vflip:flpStr,srgb:'false',internal:'byte'}})};for(var x=0;x<4;x++){(function(x){var dz=document.getElementById('myUnitCanvas'+x);dz.addEventListener('drop',(function(evt){evt.stopPropagation();evt.preventDefault();var text=evt.dataTransfer.getData('text');if(text){console.log('loading:'+text);setTex(x,text)}else{var fs=evt.dataTransfer.files;var f=fs[0];var reader=new FileReader();console.log('loading:'+escape(f.name));reader.onload=(function(x){return(function(e){setTex(x,e.target.result)})})(x);reader.readAsDataURL(f)}}),!1);dz.addEventListener('dragover',(function(evt){evt.stopPropagation();evt.preventDefault();evt.dataTransfer.dropEffect='link'}),!1)})(x)}})())";
var code=document.createTextNode('(function(){'+text+'})();');
var script=document.createElement('script');
script.appendChild(code);
(document.body||document.head).appendChild(script);
